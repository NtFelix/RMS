(()=>{var e={};e.id=902,e.ids=[902],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32032:(e,r,t)=>{"use strict";t.d(r,{U:()=>i});var s=t(45934),o=t(44999);async function i(){let e=(0,o.UL)();return(0,s.createServerClient)("https://ocubnwzybybcbrhsnqqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9jdWJud3p5YnliY2JyaHNucXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUxNjUyMDEsImV4cCI6MjA2MDc0MTIwMX0.eNxDYHXxpWje_7YUOnWPXsvNNmK9eXpYaArvX6t0ZQQ",{cookies:{async get(r){let t=await e;return t.get(r)?.value},async set(r,t,s){(await e).set({name:r,value:t,...s})},async remove(r,t){(await e).set({name:r,value:"",...t})}}})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87836:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>f,routeModule:()=>d,serverHooks:()=>v,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{DELETE:()=>m,GET:()=>c,POST:()=>p,PUT:()=>l});var o=t(96559),i=t(48088),a=t(37719),n=t(32032),u=t(32190);async function c(){try{let e=await (0,n.U)(),{data:r,error:t}=await e.from("Mieter").select("*");if(t)return console.error("GET /api/mieter error:",t),u.NextResponse.json({error:t.message},{status:500});return u.NextResponse.json(r,{status:200})}catch(e){return console.error("Server error GET /api/mieter:",e),u.NextResponse.json({error:"Serverfehler bei Mieter-Abfrage."},{status:500})}}async function p(e){try{let r=await (0,n.U)(),t=await e.json();console.error("POST /api/mieter payload:",t);let{data:s,error:o}=await r.from("Mieter").insert(t).select();if(o)return console.error("POST /api/mieter error:",o),u.NextResponse.json({error:o.message,code:o.code,details:o.details},{status:400});return u.NextResponse.json(s[0],{status:201})}catch(e){return console.error("Server error POST /api/mieter:",e),u.NextResponse.json({error:"Serverfehler beim Erstellen des Mieters."},{status:500})}}async function l(e){try{let r=new URL(e.url).searchParams.get("id"),t=await (0,n.U)(),s=await e.json(),{data:o,error:i}=await t.from("Mieter").update(s).match({id:r}).select();if(i)return console.error("PUT /api/mieter error:",i),u.NextResponse.json({error:i.message},{status:500});return u.NextResponse.json(o[0],{status:200})}catch(e){return console.error("Server error PUT /api/mieter:",e),u.NextResponse.json({error:"Serverfehler beim Aktualisieren des Mieters."},{status:500})}}async function m(e){try{let r=new URL(e.url).searchParams.get("id");if(!r)return u.NextResponse.json({error:"Mieter-ID erforderlich."},{status:400});let t=await (0,n.U)(),{error:s}=await t.from("Mieter").delete().match({id:r});if(s)return console.error("DELETE /api/mieter error:",s),u.NextResponse.json({error:s.message},{status:500});return u.NextResponse.json({message:"Mieter gel\xf6scht"},{status:200})}catch(e){return console.error("Server error DELETE /api/mieter:",e),u.NextResponse.json({error:"Serverfehler beim L\xf6schen des Mieters."},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/mieter/route",pathname:"/api/mieter",filename:"route",bundlePath:"app/api/mieter/route"},resolvedPagePath:"/Users/felixplant/Downloads/Felix/GitHub-Repo/RMS/app/api/mieter/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:h,serverHooks:v}=d;function f(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:h})}},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[524,819],()=>t(87836));module.exports=s})();