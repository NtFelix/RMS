/* TipTap Mention Suggestion Styles */

/* This is the base for the tippy.js popover */
.tippy-box[data-theme~='mention-suggestion'] {
  @apply rounded-lg border bg-background text-foreground shadow-lg;
}

/* The content wrapper inside the tippy box */
.tippy-box[data-theme~='mention-suggestion'] .tippy-content {
  @apply p-1;
  max-height: 20rem; /* 320px */
  overflow-y: auto;

  /* Custom scrollbar styling */
  &::-webkit-scrollbar {
    width: 8px;
  }
  &::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  &::-webkit-scrollbar-thumb {
    @apply rounded-full border-2 border-solid border-transparent bg-muted-foreground/30;
    background-clip: content-box;
  }
  &::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }
}

/* The main container for our suggestion list component */
.mention-suggestion-modal {
  @apply w-full max-w-xs;
}

/* Category header styling */
.mention-category-header {
  @apply mb-1 flex items-center gap-2 px-2.5 py-1.5 text-xs font-semibold text-muted-foreground;
  @apply sticky top-0 z-10 bg-background/90 backdrop-blur-sm;
  user-select: none;
}

.mention-category-icon {
  @apply h-4 w-4;
}

/* Suggestion item styling */
.mention-suggestion-item {
  @apply flex cursor-pointer flex-col rounded-md px-2.5 py-2 text-sm;
  @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ring;
  transition: background-color 0.1s ease-in-out;
}

.mention-suggestion-item.selected,
.mention-suggestion-item:hover {
  @apply bg-accent text-accent-foreground;
}

.mention-suggestion-label {
  @apply font-medium;
}

.mention-suggestion-label mark {
  @apply bg-transparent font-semibold text-primary;
}

.mention-suggestion-description {
  @apply text-xs text-muted-foreground;
}

.mention-suggestion-item.selected .mention-suggestion-description,
.mention-suggestion-item:hover .mention-suggestion-description {
  @apply text-accent-foreground/80;
}

.mention-suggestion-description mark {
  @apply bg-transparent font-semibold text-accent-foreground;
}

/* Empty and loading states */
.mention-suggestion-empty,
.mention-suggestion-loading {
  @apply flex flex-col items-center gap-2 px-3 py-4 text-center text-sm text-muted-foreground;
}

.mention-suggestion-empty-icon,
.mention-suggestion-loading-spinner {
  @apply h-8 w-8 text-muted-foreground/50;
}

.mention-suggestion-loading-spinner {
  @apply h-4 w-4 animate-spin;
}

.mention-suggestion-empty-text,
.mention-suggestion-loading-text {
  @apply font-medium;
}

.mention-suggestion-empty-subtext {
  @apply text-xs text-muted-foreground/70;
}